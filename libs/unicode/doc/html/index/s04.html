<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Design notes</title>
<link rel="stylesheet" href="../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.67.2">
<link rel="start" href="../index.html" title="Chapter 1. Unicode">
<link rel="up" href="../index.html" title="Chapter 1. Unicode">
<link rel="prev" href="s03.html" title="UTF codecvt facets">
<link rel="next" href="s05.html" title="The Unicode Character Database">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%">
<td valign="top"><img alt="boost.png (6897 bytes)" width="277" height="86" src="../../../../../boost.png"></td>
<td align="center"><a href="../../../../../index.htm">Home</a></td>
<td align="center"><a href="../libraries.html">Libraries</a></td>
<td align="center"><a href="../../../../../people/people.htm">People</a></td>
<td align="center"><a href="../../../../../more/faq.htm">FAQ</a></td>
<td align="center"><a href="../../../../../more/index.htm">More</a></td>
</table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="s03.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="s05.html"><img src="../images/next.png" alt="Next"></a>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id2508553"></a>Design notes</h2></div></div></div>
<div class="toc"><dl><dt><span class="section"><a href="s04.html#id2508571">C++ locales</a></span></dt></dl></div>
<p>
The library adheres as much to the Unicode standard as possible, and makes the most general form the default.
For example, it uses UTF-32 rather than UTF-16 or UCS-2 as its internal form.
UTF-16 and UCS-2 use surrogate pairs to encode characters that take more than 16 bits.
These characters are unlikely to occur in the data programmers test their programs on.
After all, not every programmer is well-versed in Linear B or Ethiopian.
Allowing them to disregard surrogates would be allowing errors to creep into the code that are almost certainly not detected when testing.
</p>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id2508571"></a>C++ locales</h3></div></div></div>
<p>
Other than the <code class="computeroutput">codecvt</code> facets, the Unicode library does not contain any support for C++-style locales.
Why not?
</p>
<div class="itemizedlist"><ul type="disc">
<li>
		The <code class="computeroutput">collate</code> facet makes the assumption that strings are represented as arrays of characters, and there is no way it can be optimised for normalised strings, for example.
		It would definitely be possible to implement a <code class="computeroutput">collate</code> facet, but it's bound to be a slow way of comparing Unicode strings.
	</li>
<li>
		The <code class="computeroutput">ctype</code> facet assumes that the uppercase of one character consists of one character.
		This is not true in Unicode: for example, German "ß" has "SS" as uppercase (see http://blogs.msdn.com/michkap/archive/2005/04/10/406880.aspx for a complaint about how Microsoft gets this wrong).
	</li>
</ul></div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"><small><p>Last revised: July 20, 2004 at 17:03:55 GMT</p></small></td>
<td align="right"><small>Copyright © 2005 Graham Barnett, Rogier van Dalen</small></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="s03.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="s05.html"><img src="../images/next.png" alt="Next"></a>
</div>
</body>
</html>
